<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¬ MEGA Content Creator</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{font-family:-apple-system,sans-serif;background:linear-gradient(135deg,#1a1a2e,#16213e);min-height:100vh;padding:20px;color:#fff}
        .container{max-width:1000px;margin:0 auto}
        .header{text-align:center;margin-bottom:25px}
        .header h1{font-size:26px;margin-bottom:8px}
        .badge{display:inline-block;padding:5px 15px;border-radius:20px;font-size:11px;background:linear-gradient(90deg,#00b894,#00cec9);margin-bottom:10px}
        .panel{background:rgba(255,255,255,0.05);border-radius:15px;padding:20px;margin-bottom:15px}
        .category-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:20px}
        .cat-btn{padding:15px 10px;background:rgba(255,255,255,0.08);border:2px solid transparent;border-radius:12px;color:#fff;cursor:pointer;text-align:center;transition:all 0.3s}
        .cat-btn:hover{background:rgba(255,255,255,0.15)}
        .cat-btn.active{border-color:#00b894;background:rgba(0,184,148,0.2)}
        .cat-btn .icon{font-size:28px;display:block;margin-bottom:5px}
        .cat-btn .label{font-size:11px;opacity:0.8}
        .input-group{margin-bottom:12px}
        .input-group label{display:block;margin-bottom:4px;font-size:13px;opacity:0.8}
        .input-group input{width:100%;padding:10px;border:2px solid rgba(255,255,255,0.1);border-radius:8px;background:rgba(0,0,0,0.3);color:#fff;font-size:13px}
        .btn{width:100%;padding:16px;background:linear-gradient(135deg,#00b894,#00cec9);border:none;border-radius:12px;color:#fff;font-size:16px;font-weight:600;cursor:pointer}
        .btn:hover{transform:scale(1.02)}
        .btn:disabled{opacity:0.5;cursor:not-allowed;transform:none}
        .step{padding:10px 12px;margin:6px 0;border-radius:8px;background:rgba(255,255,255,0.05);border-left:4px solid #333;display:flex;align-items:center;font-size:13px}
        .step.active{border-color:#f39c12;background:rgba(243,156,18,0.1)}
        .step.done{border-color:#00b894;background:rgba(0,184,148,0.1)}
        .step-icon{font-size:18px;margin-right:10px}
        .output-box{background:#000;padding:15px;border-radius:10px;margin-top:15px;display:none}
        .output-box h3{color:#00b894;margin-bottom:12px;font-size:15px}
        .config-toggle{background:none;border:1px solid rgba(255,255,255,0.2);color:#fff;padding:6px 12px;border-radius:6px;cursor:pointer;font-size:11px;margin-bottom:12px}
        .config-panel{display:none;margin-bottom:15px}
        .config-panel.show{display:block}
        .warning{background:rgba(243,156,18,0.2);padding:8px;border-radius:6px;font-size:11px;margin-bottom:12px}
        .content-card{background:rgba(255,255,255,0.05);padding:12px;border-radius:8px;margin-bottom:10px}
        .content-card h4{color:#00b894;margin-bottom:8px;font-size:13px}
        .content-card p{font-size:12px;line-height:1.5;white-space:pre-wrap}
        .media-box{background:rgba(0,184,148,0.1);padding:15px;border-radius:10px;margin-top:15px;text-align:center;display:none}
        .media-box img{max-width:100%;border-radius:8px;margin-bottom:10px}
        .audio-controls{display:flex;gap:10px;justify-content:center;flex-wrap:wrap}
        .audio-btn{padding:10px 20px;background:#00b894;border:none;border-radius:8px;color:#fff;cursor:pointer;font-size:13px}
        .audio-btn:hover{background:#00a884}
        @media(max-width:600px){.category-grid{grid-template-columns:repeat(2,1fr)}}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <span class="badge">ğŸ¤– 2025 VIRAL CONTENT</span>
            <h1>ğŸ¬ MEGA Content Creator</h1>
            <p style="opacity:0.7;font-size:13px">GÃ¶rsel + Ses + SEO = Viral Ä°Ã§erik</p>
        </div>
        
        <div class="panel">
            <h3 style="margin-bottom:12px;font-size:14px">ğŸ“‚ Kategori SeÃ§</h3>
            <div class="category-grid" id="categoryGrid">
                <button class="cat-btn active" data-cat="kuafor"><span class="icon">ğŸ’‡</span><span class="label">KuafÃ¶r</span></button>
                <button class="cat-btn" data-cat="ai"><span class="icon">ğŸ¤–</span><span class="label">Yapay Zeka</span></button>
                <button class="cat-btn" data-cat="bilim"><span class="icon">ğŸ”¬</span><span class="label">Bilim</span></button>
                <button class="cat-btn" data-cat="fitness"><span class="icon">ğŸ’ª</span><span class="label">Fitness</span></button>
                <button class="cat-btn" data-cat="finans"><span class="icon">ğŸ’°</span><span class="label">Finans</span></button>
                <button class="cat-btn" data-cat="yemek"><span class="icon">ğŸ³</span><span class="label">Yemek</span></button>
                <button class="cat-btn" data-cat="sanat"><span class="icon">ğŸ¨</span><span class="label">Sanat</span></button>
                <button class="cat-btn" data-cat="gelisim"><span class="icon">ğŸ§˜</span><span class="label">KiÅŸisel GeliÅŸim</span></button>
            </div>
        </div>

        <div class="panel">
            <button class="config-toggle" onclick="toggleConfig()">âš™ï¸ API AyarlarÄ±</button>
            <div class="config-panel" id="configPanel">
                <div class="warning">âš ï¸ <a href="https://huggingface.co/settings/tokens" target="_blank" style="color:#00b894">HuggingFace Token</a> gerekli!</div>
                <div class="input-group">
                    <label>ğŸ”‘ HuggingFace Token</label>
                    <input type="password" id="tokenInput" placeholder="hf_xxxxxxxxxxxxx">
                </div>
                <button onclick="saveToken()" style="padding:8px 16px;background:#00b894;border:none;border-radius:6px;color:#fff;cursor:pointer;font-size:12px">ğŸ’¾ Kaydet</button>
            </div>
            <button class="btn" id="startBtn" onclick="runWorkflow()">ğŸš€ Ä°Ã‡ERÄ°K ÃœRET</button>
        </div>
        
        <div class="panel" id="stepsPanel" style="display:none">
            <h3 style="margin-bottom:10px;font-size:14px">ğŸ“Š Otomasyon</h3>
            <div class="step" id="s1"><span class="step-icon">ğŸ”</span>Trend Konu Bul</div>
            <div class="step" id="s2"><span class="step-icon">â“</span>Sorun TanÄ±mla</div>
            <div class="step" id="s3"><span class="step-icon">ğŸ’¡</span>Ã‡Ã¶zÃ¼m Ãœret</div>
            <div class="step" id="s4"><span class="step-icon">ğŸ“</span>Reels Script</div>
            <div class="step" id="s5"><span class="step-icon">ğŸ–¼ï¸</span>GÃ¶rsel Ãœret</div>
            <div class="step" id="s6"><span class="step-icon">ğŸ·ï¸</span>SEO & Hashtag</div>
        </div>
        
        <div class="media-box" id="mediaBox">
            <img id="generatedImage" src="" alt="AI Generated">
            <div class="audio-controls">
                <button class="audio-btn" onclick="speakText()">ğŸ”Š Seslendirmeyi Dinle</button>
                <button class="audio-btn" onclick="stopSpeech()">â¹ï¸ Durdur</button>
            </div>
        </div>
        
        <div class="output-box" id="outputBox">
            <h3>ğŸ“‹ Ãœretilen Ä°Ã§erik</h3>
            <div id="outputContent"></div>
        </div>
    </div>

    <script>
        const API = 'https://router.huggingface.co/v1/chat/completions';
        let selectedCategory = 'kuafor';
        let generatedScript = '';
        
        // Category selection
        document.querySelectorAll('.cat-btn').forEach(btn => {
            btn.onclick = () => {
                document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                selectedCategory = btn.dataset.cat;
            };
        });
        
        function toggleConfig() { document.getElementById('configPanel').classList.toggle('show'); }
        function saveToken() {
            const token = document.getElementById('tokenInput').value;
            if(token) { localStorage.setItem('hf_token', token); alert('âœ… Kaydedildi!'); toggleConfig(); }
        }
        function getToken() { return localStorage.getItem('hf_token') || ''; }
        window.onload = () => { const s = getToken(); if(s) document.getElementById('tokenInput').value = s; }
        
        const CATEGORIES = {
            kuafor: { name: 'SaÃ§ BakÄ±mÄ±', context: 'saÃ§ bakÄ±mÄ±, kuafÃ¶r, saÃ§ saÄŸlÄ±ÄŸÄ±', examples: 'saÃ§ dÃ¶kÃ¼lmesi, kÄ±rÄ±k uÃ§lar, boyalÄ± saÃ§ bakÄ±mÄ±' },
            ai: { name: 'Yapay Zeka', context: 'AI, yapay zeka, teknoloji', examples: 'ChatGPT gÃ¼ncellemeleri, yeni AI araÃ§larÄ±, AI trendleri' },
            bilim: { name: 'Bilim', context: 'bilim, uzay, keÅŸifler', examples: 'uzay keÅŸifleri, bilimsel buluÅŸlar, ilginÃ§ bilgiler' },
            fitness: { name: 'Fitness', context: 'spor, egzersiz, saÄŸlÄ±k', examples: 'ev egzersizleri, kilo verme, kas yapma' },
            finans: { name: 'Finans', context: 'para, yatÄ±rÄ±m, ekonomi', examples: 'tasarruf ipuÃ§larÄ±, yatÄ±rÄ±m Ã¶nerileri, pasif gelir' },
            yemek: { name: 'Yemek', context: 'yemek, tarif, mutfak', examples: 'kolay tarifler, saÄŸlÄ±klÄ± yemek, mutfak hileleri' },
            sanat: { name: 'Sanat', context: 'sanat, tasarÄ±m, yaratÄ±cÄ±lÄ±k', examples: 'tasarÄ±m trendleri, sanat teknikleri, yaratÄ±cÄ± projeler' },
            gelisim: { name: 'KiÅŸisel GeliÅŸim', context: 'kiÅŸisel geliÅŸim, motivasyon, Ã¼retkenlik', examples: 'zaman yÃ¶netimi, motivasyon, alÄ±ÅŸkanlÄ±klar' }
        };
        
        function getSteps(cat) {
            const c = CATEGORIES[cat];
            return [
                { id:'s1', title:'ğŸ” Trend Konu', prompt:`Sen bir ${c.name} uzmanÄ±sÄ±n. 2025 yÄ±lÄ±nda Google'da ve Instagram'da EN Ã‡OK ARANAN ${c.name} konusunu bul.\n\nÃ–rnekler: ${c.examples}\n\nSadece 1 konu/soru yaz. GÃ¼ncel ve viral potansiyelli olsun.` },
                { id:'s2', title:'â“ Sorun', prompt:`Bu konuyu detaylÄ± aÃ§Ä±kla:\n\n{PREV}\n\n3-4 cÃ¼mleyle:\n- Neden Ã¶nemli?\n- Kimleri ilgilendiriyor?\n- Ne gibi sorunlar yaÅŸanÄ±yor?\n\nDoÄŸal ve samimi bir dille yaz.` },
                { id:'s3', title:'ğŸ’¡ Ã‡Ã¶zÃ¼m', prompt:`Bu konu iÃ§in pratik Ã§Ã¶zÃ¼mler Ã¼ret:\n\n{PREV}\n\n5 maddelik liste:\n1. Hemen uygulanabilir ipucu\n2. Profesyonel Ã¶neri\n3. KaÃ§Ä±nÄ±lmasÄ± gereken hata\n4. Bonus bilgi\n5. SonuÃ§/fayda\n\nKÄ±sa ve uygulanabilir.` },
                { id:'s4', title:'ğŸ“ Script', prompt:`15-30 saniyelik Instagram Reels scripti yaz:\n\n{PREV}\n\n2025 Instagram algoritmasÄ±na uygun format:\nHOOK (0-3sn): Åok edici soru veya bilgi\nSOUN (3-8sn): Problemi gÃ¶ster\nÃ‡Ã–ZÃœM (8-25sn): AdÄ±m adÄ±m Ã§Ã¶zÃ¼m\nCTA (25-30sn): Kaydet + Takip et\n\nDoÄŸal konuÅŸma dili, samimi, profesyonel.` },
                { id:'s5', title:'ğŸ–¼ï¸ GÃ¶rsel', prompt:`Bu iÃ§erik iÃ§in AI gÃ¶rsel promptu oluÅŸtur:\n\n{PREV}\n\nÄ°ngilizce, Stable Diffusion iÃ§in optimize:\n- Konu ile ilgili gÃ¶rsel\n- Instagram Reels formatÄ± (9:16)\n- Modern, profesyonel\n- Parlak renkler\n\nSadece Ä°ngilizce prompt yaz, baÅŸka bir ÅŸey yazma.` },
                { id:'s6', title:'ğŸ·ï¸ SEO', prompt:`Instagram SEO optimizasyonu:\n\n{PREV}\n\n1. BAÅLIK (60 karakter, anahtar kelime)\n2. CAPTION (3 satÄ±r, emoji, deÄŸer)\n3. HASHTAG (15 adet - 5 popÃ¼ler, 5 orta, 5 niÅŸ)\n4. EN Ä°YÄ° SAAT (TR)\n5. CTA (kaydet/paylaÅŸ Ã§aÄŸrÄ±sÄ±)\n\n2025 Instagram algoritmasÄ±na uygun.` }
            ];
        }
        
        async function callAI(prompt) {
            const token = getToken();
            if(!token) throw new Error('Token gerekli!');
            const res = await fetch(API, {
                method:'POST',
                headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},
                body:JSON.stringify({model:'google/gemma-2-2b-it',messages:[{role:'user',content:prompt}],max_tokens:500,temperature:0.8})
            });
            const data = await res.json();
            if(data.error) throw new Error(data.error);
            return data.choices?.[0]?.message?.content || '';
        }
        
        async function generateImage(prompt) {
            const token = getToken();
            try {
                const res = await fetch('https://router.huggingface.co/hf-inference/models/stabilityai/stable-diffusion-xl-base-1.0', {
                    method:'POST',
                    headers:{'Authorization':`Bearer ${token}`,'Content-Type':'application/json'},
                    body:JSON.stringify({inputs:prompt})
                });
                if(!res.ok) return null;
                const blob = await res.blob();
                return URL.createObjectURL(blob);
            } catch(e) { return null; }
        }
        
        function speakText() {
            if(!generatedScript) return;
            const utterance = new SpeechSynthesisUtterance(generatedScript);
            utterance.lang = 'tr-TR';
            utterance.rate = 0.9;
            utterance.pitch = 1;
            const voices = speechSynthesis.getVoices();
            const trVoice = voices.find(v => v.lang.includes('tr'));
            if(trVoice) utterance.voice = trVoice;
            speechSynthesis.speak(utterance);
        }
        
        function stopSpeech() { speechSynthesis.cancel(); }
        
        async function runWorkflow() {
            const token = getToken();
            if(!token) { alert('âš ï¸ Token girin!'); toggleConfig(); return; }
            
            const btn = document.getElementById('startBtn');
            const stepsPanel = document.getElementById('stepsPanel');
            const outputBox = document.getElementById('outputBox');
            const outputContent = document.getElementById('outputContent');
            const mediaBox = document.getElementById('mediaBox');
            
            btn.disabled = true;
            btn.textContent = 'â³ Ãœretiliyor...';
            stepsPanel.style.display = 'block';
            outputBox.style.display = 'none';
            mediaBox.style.display = 'none';
            outputContent.innerHTML = '';
            generatedScript = '';
            
            const STEPS = getSteps(selectedCategory);
            STEPS.forEach(s => document.getElementById(s.id).className = 'step');
            
            let prev = '', html = '', imgPrompt = '';
            
            for(let i = 0; i < STEPS.length; i++) {
                const step = STEPS[i];
                document.getElementById(step.id).className = 'step active';
                
                try {
                    const prompt = step.prompt.replace('{PREV}', prev);
                    const result = await callAI(prompt);
                    prev = result;
                    document.getElementById(step.id).className = 'step done';
                    
                    if(step.id === 's4') generatedScript = result;
                    if(step.id === 's5') imgPrompt = result;
                    
                    html += `<div class="content-card"><h4>${step.title}</h4><p>${result}</p></div>`;
                } catch(e) {
                    document.getElementById(step.id).className = 'step';
                    html += `<div class="content-card"><h4>${step.title}</h4><p style="color:#e74c3c">Hata: ${e.message}</p></div>`;
                    break;
                }
                await new Promise(r => setTimeout(r, 1500));
            }
            
            // Generate image
            if(imgPrompt) {
                const imgUrl = await generateImage(imgPrompt);
                if(imgUrl) {
                    document.getElementById('generatedImage').src = imgUrl;
                    mediaBox.style.display = 'block';
                }
            }
            
            outputBox.style.display = 'block';
            outputContent.innerHTML = html;
            btn.disabled = false;
            btn.textContent = 'ğŸ”„ YENÄ° Ä°Ã‡ERÄ°K';
        }
        
        // Load voices
        speechSynthesis.onvoiceschanged = () => speechSynthesis.getVoices();
    </script>
</body>
</html>
